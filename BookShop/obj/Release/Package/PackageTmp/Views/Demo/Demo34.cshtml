@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Demo34</title>
          <script src="~/Scripts/jquery-1.8.2.min.js"></script>
    <script src="~/easyui1.5/jquery.easyui.min.js"></script>
    <link href="~/easyui1.5/themes/icon.css" rel="stylesheet" />
    <link href="~/easyui1.5/themes/bootstrap/easyui.css" rel="stylesheet" />
    <script>
        $(function () {
            //先禁用浏览器缓存
            $.ajaxSetup({
                cache: false
            });

            $('#dg').datagrid({
                toolbar: '#tb'
            });
        })
        $(function () {
            $("#btnEdit").click(function () {
                //这是调用方法，名字叫getSelected，该方法无参数
                var obj = $("#dg").datagrid("getSelected");//得到当前选中的第一行. 返回的json对象
                $("#cid").html(obj.Id);
                $("#name").val(obj.Name);
                $("#w2").window('open');
                //$.messager.alert("提示", obj.Name);
            });
        })
    </script>

</head>
<body>
    <div>
        <table class="easyui-datagrid" 
            id="dg"
            style="width:400px;"   
        data-options="url:'/demo/demo34_1',
            fitColumns:true,
            singleSelect:true,
            autoRowHeight:true,
            pagination:true,
            pageNumber:1,
            pageSize:5,
            pageList:[5,10,15,20]
            ">   
    <thead>   
        <tr>   
            <th data-options="field:'Id',width:100">类别编号</th>   
            <th data-options="field:'Name',width:100">类别名称</th>
        </tr>   
    </thead>   
</table>
  
<div id="tb">
    <a href="javascript:void(0)"
         id="btnEdit"
         class="easyui-linkbutton"
         data-options="iconCls:'icon-edit',plain:true" >编辑</a>
    <a href="#" class="easyui-linkbutton"
         data-options="iconCls:'icon-help',plain:true">帮助</a>
</div>

    </div>

      <div id="w2" class="easyui-window" 
        title="编辑图书类别" 
        data-options="modal:true,closed:true,iconCls:'icon-save'" 
        style="width:500px;height:200px;padding:5px;">
		<div class="easyui-layout" data-options="fit:true">
		
			<div data-options="region:'center'" style="padding:10px;">
				<table>
                    <tr>
                        <td>图书编号:</td>
                        <td>
                           <span id="cid"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>类别名称:</td>
                        <td>
                            <input type="text" id="name" />
                        </td>
                    </tr>
				</table>
			</div>
			<div data-options="region:'south',border:false" style="text-align:right;padding:5px 0 0;">
				<a class="easyui-linkbutton" 
                    data-options="iconCls:'icon-ok'" 
                    href="javascript:void(0)" 
                    onclick="saveUpdate()" style="width:80px">修改</a>
				<a class="easyui-linkbutton" 
                    data-options="iconCls:'icon-cancel'" 
                    href="javascript:void(0)" 
                    onclick="javascript:$('#w2').window('close')" 
                    style="width:80px">取消</a>
			</div>
		</div>
	</div>

</body>
</html>
